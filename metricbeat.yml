################# Metricbeat Pulpo Connector DE Configuration #################

# This file is the configuration file for the metricbeat running inside this
# beanstalk docker instance

#============================  Config Reloading ===============================

metricbeat.config.modules:

  # Glob pattern for configuration reloading
  path: ${path.config}/conf/modules.d/*.yml

  # Period on which files under path should be checked for chagnes
  reload.period: 10s

  # Set to true to enable config reloading
  reload.enabled: false

#================================ General ======================================

tags: '${PULPO_CONTACTS_ENGINE_BEAT_TAGS}'

fields:
  env: '${PULPO_CONTACTS_ENGINE_BEAT_ENV}'
  service: '${PULPO_CONTACTS_ENGINE_BEAT_SERVICE}'

#================================ Outputs ======================================

#-------------------------- Elasticsearch output -------------------------------
output.elasticsearch:
  hosts: '${PULPO_CONTACTS_ENGINE_BEAT_ES_HOSTS}'

output.console:
  enabled: false

#================================ Logging ======================================
logging.level: debug

logging.to_files: true

logging.to_syslog: false

logging.files:
  keepfiles: 5

#================================ Processors ===================================

processors:
- drop_fields:
    fields: ["jolokia.metrics.springboot.metrics.classes", "jolokia.metrics.springboot.metrics.heap", "jolokia.metrics.springboot.metrics.mem", "jolokia.metrics.springboot.metrics.nonheap", "jolokia.metrics.springboot.metrics.threads", "jolokia.metrics.springboot.metrics.counter.status.200.projectId.contacts_mapping_rule", "gauge.response.projectId.data-sources"]